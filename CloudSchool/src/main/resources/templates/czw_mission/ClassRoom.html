<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.arg">
<html>

	<head>
		<meta charset="UTF-8">
		<title>教室管理</title>
		<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
		<link rel="stylesheet" th:href="@{/static/css/bootstrap.min.css}">
		<link rel="stylesheet" th:href="@{/static/css/ready.css}">
		<link rel="stylesheet" th:href="@{/static/css/load.css}">
		<style>
			.card-footer div{
				float: right;
			}
			#hezi {
	position: absolute;
	left: 0;
	top: 0;
	background: #f2f3f8;
	width: 100%;
	height: 100%;
	z-index: 9999;
}
		</style>
	</head>

	<body>
		<div class="main-panel">
		<div id="hezi">
			<div class="spinner">
				<div class="spinner-container container1">
					<div class="circle1"></div>
					<div class="circle2"></div>
					<div class="circle3"></div>
					<div class="circle4"></div>
				</div>
				<div class="spinner-container container2">
					<div class="circle1"></div>
					<div class="circle2"></div>
					<div class="circle3"></div>
					<div class="circle4"></div>
				</div>
				<div class="spinner-container container3">
					<div class="circle1"></div>
					<div class="circle2"></div>
					<div class="circle3"></div>
					<div class="circle4"></div>
				</div>
			</div>
		</div> 
			<div class="content">
				<div class="container-fluid">
					<h4 class="page-title col-lg-12 col-xs-6">教室管理</h4>
					<div class="card col-lg-12">
						<div class="card-header">
							<h4 class="card-title">
								查看教室
							</h4>
						</div>
						<div class="card-body">
							<table class="table mt-3">
								<thead>
									<tr>
										<th scope="col">教室名称</th>
										<th scope="col">教室类型</th>
										<th scope="col">容纳人数</th>
										<th scope="col">教室楼层</th>
										<th scope="col">操作</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="m:${list}">
										<td th:text="${m.name}"></td>
										<td th:text="${m.ctname}"></td>
										<td th:text="${m.galleryful}"></td>
										<td th:text="${m.floor}"></td>
										<td><a infoBut moduleUrl="mission/delete" href="javascript:void(0)" class="del" th:value="${m.id}">删除</a>
											<a infoBut moduleUrl="mission/update" th:href="@{/mission/selectByid(id=${m.id})}" >修改</a></td>
									</tr>
									<!-- <tr>
										<td>402</td>
										<td>上课室</td>
										<td>30</td>
										<td>4</td>
										<td><a href="insertclassroom.html">删除</a><a href="updateclassroom.html">修改</a></td>
									</tr>
									<tr>
										<td>412</td>
										<td>自习室</td>
										<td>30</td>
										<td>4</td>
										<td><a href="insertclassroom.html">删除</a><a href="updateclassroom.html">修改</a></td>
									</tr> -->
								</tbody>
							</table>
						</div>
						<div class="card-footer">
							<div class="card-body">
								<p class="demo">
									</p><ul class="pagination pg-primary">
										<li class="page-item">
											<a class="page-link" href="#" aria-label="Previous">
												<span aria-hidden="true">上一页</span>
												<span class="sr-only">Previous</span>
											</a>
										</li>
										<li class="page-item active"><a class="page-link" href="#">1</a></li>
										<li class="page-item"><a class="page-link" href="#">2</a></li>
										<li class="page-item"><a class="page-link" href="#">3</a></li>
										<li class="page-item">
											<a class="page-link" href="#" aria-label="Next">
												<span aria-hidden="true">下一页</span>
												<span class="sr-only">Next</span>
											</a>
										</li>
									</ul>
								<p></p>
							</div>
						</div>
					</div>
			</div>
		</div>
	</body>
<script th:src="@{/static/js/core/jquery.3.2.1.min.js}"></script>
<script th:src="@{/static/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js}"></script>
<script th:src="@{/static/js/core/popper.min.js}"></script>
<script th:src="@{/static/js/core/bootstrap.min.js}"></script>
<script th:src="@{/static/js/plugin/chartist/chartist.min.js}"></script>
<script th:src="@{/static/js/plugin/chartist/plugin/chartist-plugin-tooltip.min.js}"></script>
<script th:src="@{/static/js/plugin/bootstrap-notify/bootstrap-notify.min.js}"></script>
<script th:src="@{/static/js/plugin/bootstrap-toggle/bootstrap-toggle.min.js}"></script>
<script th:src="@{/static/js/plugin/jquery-mapael/jquery.mapael.min.js}"></script>
<script th:src="@{/static/js/plugin/jquery-mapael/maps/world_countries.min.js}"></script>
<script th:src="@{/static/js/plugin/chart-circle/circles.min.js}"></script>
<script th:src="@{/static/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js}"></script>
<script th:src="@{/static/js/ready.min.js}"></script>
<script th:src="@{/static/js/cqj_infoBut.js}"></script>

<script>
var count = 0;
var sumCount=1;
	$(function(){
		infoBut.ccc();
		//goPage(1);
		$(".del").click(function(){
			var id=$(this).attr("value");
			alert(id)
			$.ajax({
				url:"delClassRoom",
            	data:"id="+id,
            	success:function(result){
            		alert(result)
            		location.href="queryClr"
            	}
			}) 
		});
	})
	function goPage(page){
		var name = $("[name=name]").val();
		$.ajax({
			url:"model/ajaxQuery",
			data:"currentPage="+page+"&name="+name,
			success:function(result){//result = pageBean
				$("#tb").html("");
				for(var v in result.list){ // 循环分页数据
					console.log(v);
					var tr = $("<tr>");
					var td1 = $("<td>").html(result.list[v].id);
					var td2 = $("<td>").html(result.list[v].name);
					tr.append(td1).append(td2);
					$("#tb").append(tr);
				}
				$("#pageMenu").remove();
				var pageMenu = '<div id="pageMenu">'+
					'<span><a param="'+result.prevPage+'">上一页</a></span>'+
					'<span><a param="'+result.nextPage+'">下一页</a></span>'+
					'<span><a param=1>首页</a></span>'+
					'<span><a param="'+result.totalPage+'">尾页</a></span>'+
					'<span>'+result.totalPage+'/'+result.currentPage+'</span>'+
				'</div>';
				$("body").append(pageMenu);
				
				
				$("#pageMenu span").click(function(){
					var param = $(this).find("a").attr("param");
					goPage(param);
				});
				
			}
		});
	}
</script>
</html>